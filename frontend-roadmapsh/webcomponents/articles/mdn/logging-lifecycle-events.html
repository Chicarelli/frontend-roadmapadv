<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test Custom Element</title>
</head>
<body>
  <h1>Testing MyCustomElement</h1>

  <!-- Add the custom element to the page -->
  <my-custom-element color="red" size="large"></my-custom-element>

  <script>

    setTimeout(() => {
      // Change the attributes after 2 seconds
      const customElement = document.querySelector("my-custom-element");
      customElement.setAttribute("color", "blue");
      customElement.setAttribute("size", "small");
    }, 2000);


    // Create a class for the element
    class MyCustomElement extends HTMLElement {
      static observedAttributes = ["color", "size"];

      constructor() {
        // Always call super first in constructor
        super();
      }

      connectedCallback() {
        console.log("Custom element added to page.");
      }

      disconnectedCallback() {
        console.log("Custom element removed from page.");
      }

      adoptedCallback() {
        console.log("Custom element moved to new page.");
      }

      attributeChangedCallback(name, oldValue, newValue) {
        console.log(`Attribute ${name} has changed from ${oldValue} to ${newValue}`);

      }
    }

    // Define the custom element
    customElements.define("my-custom-element", MyCustomElement);
  </script>
</body>
</html>